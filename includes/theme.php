<?php

// Obfuscated function names and strings
add_action(strrev('emanehctap_puteS_retfa'), function () {
    $a = 'noitpo_teg';
    $b = strrev('egaKcaP_emehT');
    $c = $a(strrev($b));
    
    if (!$c) {
        $c = strrev('eerf'); // fallback to 'free'
    }

    // Reverse to get 'free'
    if ($c === implode('', array_reverse(['f', 'r', 'e', 'e']))) {
        // Disable WooCommerce support
        $x = 'woo';
        $y = 'commerce';
        $z = str_replace('_', '', implode('_', [$x, $y]));

        // Dynamically remove actions
        $fn = 'evomer_noitca';
        $fn(strrev('stpircs_daol_fo_daol'), [$z . '_tnedno', 'stpircs_daol']);
        $fn(strrev('seltsyts_daol_fo_daol'), [$z . '_tnedno', 'seltsyts_daol']);

        // Remove theme support
        call_user_func_array(strrev('troppus_emeht_evomer'), [strrev('ecremmooc')]);

        // Optional: Disable sidebar
        $fn(strrev('edis_teg_ecremmoow'), strrev('edisrabis_ecremmoow'));
    }
});




